<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Page 8 - Games</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
      background: linear-gradient(135deg, #f9d2fc, #c2e9fb);
      overflow: hidden;
    }
    h1 {
      font-size: 28px;
      font-weight: bold;
      margin: 20px 0;
      color: #222;
    }

    /* Tabs */
    .tab {
      display: flex;
      justify-content: center;
      margin-bottom: 15px;
    }
    .tab button {
      background: #ff85b3;
      border: none;
      padding: 12px 20px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      margin: 0 5px;
      border-radius: 8px;
      transition: background 0.3s;
    }
    .tab button:hover {
      background: #ff4d94;
    }
    .tab button.active {
      background: #ff0066;
      color: #fff;
    }

    .tabcontent {
      display: none;
      padding: 20px;
      animation: fadeEffect 0.6s;
    }
    @keyframes fadeEffect {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    /* Falling kiss for Game 1 */
    .kiss {
      position: absolute;
      top: -40px;
      font-size: 30px;
      animation: fall linear forwards;
    }
    @keyframes fall {
      to { transform: translateY(110vh); }
    }

    /* Game 2 area */
    #game2Area {
      position: relative;
      width: 100%;
      height: 70vh;
      background: #fff;
      border: 2px solid #333;
      overflow: hidden;
      margin-top: 15px;
    }
    #basket {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 40px;
    }
    .fallingKiss {
      position: absolute;
      top: -30px;
      font-size: 28px;
    }
  </style>
</head>
<body>

  <h1>Games Time for My Bestest Friend ðŸ’™ðŸ«‚</h1>

  <!-- Tabs -->
  <div class="tab">
    <button class="tablinks active" onclick="openGame(event, 'game1')">Game 1 - Blow Kisses ðŸ˜˜</button>
    <button class="tablinks" onclick="openGame(event, 'game2')">Game 2 - Catch Kisses ðŸ’‹</button>
  </div>

  <!-- Game 1 -->
  <div id="game1" class="tabcontent" style="display:block;">
    <h2>Blow 25 Kisses ðŸ˜˜</h2>
    <button onclick="blowKisses()">Blow Kisses</button>
  </div>

  <!-- Game 2 -->
  <div id="game2" class="tabcontent">
    <h2>Catch 15 Kisses ðŸ’‹</h2>
    <div id="game2Area">
      <div id="basket">ðŸ§º</div>
    </div>
    <p id="score">Score: 0</p>
  </div>

  <script>
    // Tab switch
    function openGame(evt, gameName) {
      let i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].classList.remove("active");
      }
      document.getElementById(gameName).style.display = "block";
      evt.currentTarget.classList.add("active");
    }

    // Game 1 - Blow kisses
    function blowKisses() {
      for (let i = 0; i < 100; i++) {
        let kiss = document.createElement("div");
        kiss.className = "kiss";
        kiss.innerHTML = "ðŸ˜˜";
        kiss.style.left = Math.random() * window.innerWidth + "px";
        kiss.style.animationDuration = (2 + Math.random() * 3) + "s";
        document.body.appendChild(kiss);
        setTimeout(() => kiss.remove(), 5000);
      }
    }

    // Game 2 - Catch kisses
    const basket = document.getElementById("basket");
    const gameArea = document.getElementById("game2Area");
    let score = 0;

    document.addEventListener("mousemove", e => {
      let areaRect = gameArea.getBoundingClientRect();
      if (e.clientX >= areaRect.left && e.clientX <= areaRect.right) {
        basket.style.left = (e.clientX - areaRect.left - basket.offsetWidth / 2) + "px";
      }
    });

    function dropKiss() {
      let kiss = document.createElement("div");
      kiss.className = "fallingKiss";
      kiss.innerHTML = "ðŸ˜˜";
      kiss.style.left = Math.random() * (gameArea.clientWidth - 30) + "px";
      gameArea.appendChild(kiss);

      let fallInterval = setInterval(() => {
        let kissTop = kiss.offsetTop;
        kiss.style.top = kissTop + 5 + "px";

        // Collision
        let basketRect = basket.getBoundingClientRect();
        let kissRect = kiss.getBoundingClientRect();
        if (!(kissRect.bottom < basketRect.top || 
              kissRect.top > basketRect.bottom || 
              kissRect.right < basketRect.left || 
              kissRect.left > basketRect.right)) {
          score++;
          document.getElementById("score").innerText = "Score: " + score;
          kiss.remove();
          clearInterval(fallInterval);
          if (score >= 15) {
            window.location.href = "/My-Panda/page9.html"; // Go to Page 9
          }
        }

        if (kissTop > gameArea.clientHeight - 30) {
          kiss.remove();
          clearInterval(fallInterval);
        }
      }, 50);
    }

    setInterval(() => {
      if (document.getElementById("game2").style.display === "block") {
        dropKiss();
      }
    }, 1200);
  </script>

</body>
</html>
